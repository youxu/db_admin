<?php include_once 'header.php' ?>
<div class="so_main">
  <div class="page_tit">积分配置</div>
  <div class="tit_tab">
    <ul>
    <li><a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=credit" class="on">积分规则</a></li>
    <li><a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=creditType">积分类型</a></li>
    <li><a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=creditUser">设置用户积分</a></li>
    </ul>
  </div>
  <div class="Toolbar_inbox">
  	<div class="page right"> <span class='current'>1</span><a href='/sns/index.php?app=admin&mod=Global&act=credit&p=2'>2</a><a href='/sns/index.php?app=admin&mod=Global&act=credit&p=2'>下一页</a></div>
	<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=addCredit" class="btn_a"><span>添加规则</span></a>
	<a href="javascript:void(0);" class="btn_a" onclick="deleteCredit();"><span>删除规则</span></a>
  </div>
  
  <div class="list">
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <th style="width:30px;">
		<input type="checkbox" id="checkbox_handle" onclick="checkAll(this)" value="0">
    	<label for="checkbox"></label>
	</th>
    <th class="line_l">ID</th>
    <th class="line_l">名称</th>
    <th class="line_l">别名</th>
    <th class="line_l">类型</th>
    <th class="line_l">积分</th><th class="line_l">经验</th>    <th class="line_l">操作</th>
  </tr>
  <tr overstyle='on' id="credit_118">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="118"></td>
	    <td>118</td>
	    <td>delete_blog</td>
		<td>删除博客</td>
	    <td>blog</td>
        <td>-5</td><td>-5</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=118">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(118);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_117">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="117"></td>
	    <td>117</td>
	    <td>add_blog</td>
		<td>发表博客</td>
	    <td>blog</td>
        <td>5</td><td>5</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=117">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(117);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_59">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="59"></td>
	    <td>59</td>
	    <td>add_comment</td>
		<td>评论别人</td>
	    <td>comment</td>
        <td>1</td><td>1</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=59">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(59);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_60">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="60"></td>
	    <td>60</td>
	    <td>reply_comment</td>
		<td>回复别人的评论</td>
	    <td>comment</td>
        <td>1</td><td>1</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=60">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(60);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_61">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="61"></td>
	    <td>61</td>
	    <td>replied_comment</td>
		<td>评论被回复</td>
	    <td>comment</td>
        <td>2</td><td>2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=61">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(61);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_81">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="81"></td>
	    <td>81</td>
	    <td>is_commented</td>
		<td>被别人评论</td>
	    <td>comment</td>
        <td>1</td><td>2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=81">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(81);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_88">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="88"></td>
	    <td>88</td>
	    <td>delete_comment</td>
		<td>删除评论</td>
	    <td>comment</td>
        <td>-2</td><td>-2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=88">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(88);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_101">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="101"></td>
	    <td>101</td>
	    <td>add_event</td>
		<td>发起活动</td>
	    <td>event</td>
        <td>10</td><td>10</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=101">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(101);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_102">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="102"></td>
	    <td>102</td>
	    <td>delete_event</td>
		<td>删除活动</td>
	    <td>event</td>
        <td>-10</td><td>-10</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=102">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(102);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_103">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="103"></td>
	    <td>103</td>
	    <td>join_event</td>
		<td>参加活动</td>
	    <td>event</td>
        <td>3</td><td>2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=103">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(103);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_104">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="104"></td>
	    <td>104</td>
	    <td>cancel_join_event</td>
		<td>取消参加活动</td>
	    <td>event</td>
        <td>-3</td><td>-2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=104">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(104);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_105">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="105"></td>
	    <td>105</td>
	    <td>add_group</td>
		<td>创建群组</td>
	    <td>group</td>
        <td>5</td><td>5</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=105">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(105);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_106">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="106"></td>
	    <td>106</td>
	    <td>delete_group</td>
		<td>解散群租</td>
	    <td>group</td>
        <td>-5</td><td>-5</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=106">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(106);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_107">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="107"></td>
	    <td>107</td>
	    <td>join_group</td>
		<td>加入群组</td>
	    <td>group</td>
        <td>2</td><td>2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=107">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(107);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_108">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="108"></td>
	    <td>108</td>
	    <td>quit_group</td>
		<td>退出群组</td>
	    <td>group</td>
        <td>-2</td><td>-2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=108">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(108);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_109">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="109"></td>
	    <td>109</td>
	    <td>group_add_topic</td>
		<td>发表帖子</td>
	    <td>group</td>
        <td>5</td><td>5</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=109">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(109);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_110">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="110"></td>
	    <td>110</td>
	    <td>group_reply_topic</td>
		<td>回复帖子</td>
	    <td>group</td>
        <td>2</td><td>2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=110">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(110);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_111">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="111"></td>
	    <td>111</td>
	    <td>group_delete_topic</td>
		<td>删除帖子</td>
	    <td>group</td>
        <td>-5</td><td>-5</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=111">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(111);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_112">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="112"></td>
	    <td>112</td>
	    <td>group_upload_file</td>
		<td>上传文件</td>
	    <td>group</td>
        <td>5</td><td>5</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=112">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(112);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_113">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="113"></td>
	    <td>113</td>
	    <td>group_download_file</td>
		<td>下载文件</td>
	    <td>group</td>
        <td>2</td><td>2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=113">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(113);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_114">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="114"></td>
	    <td>114</td>
	    <td>group_delete_file</td>
		<td>删除文件</td>
	    <td>group</td>
        <td>-5</td><td>-5</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=114">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(114);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_100">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="100"></td>
	    <td>100</td>
	    <td>add_photo</td>
		<td>上传图片</td>
	    <td>photo</td>
        <td>2</td><td>2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=100">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(100);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_99">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="99"></td>
	    <td>99</td>
	    <td>delete_album</td>
		<td>删除相册</td>
	    <td>photo</td>
        <td>-10</td><td>-10</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=99">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(99);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_98">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="98"></td>
	    <td>98</td>
	    <td>add_album</td>
		<td>创建相册</td>
	    <td>photo</td>
        <td>10</td><td>10</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=98">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(98);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_115">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="115"></td>
	    <td>115</td>
	    <td>add_poster</td>
		<td>发起招贴</td>
	    <td>poster</td>
        <td>2</td><td>2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=115">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(115);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_116">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="116"></td>
	    <td>116</td>
	    <td>delete_poster</td>
		<td>删除招贴</td>
	    <td>poster</td>
        <td>-2</td><td>-2</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=116">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(116);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_37">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="37"></td>
	    <td>37</td>
	    <td>invite_friend</td>
		<td>邀请好友</td>
	    <td>register</td>
        <td>10</td><td>10</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=37">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(37);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_92">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="92"></td>
	    <td>92</td>
	    <td>init_default</td>
		<td>注册积分</td>
	    <td>register</td>
        <td>200</td><td>0</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=92">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(92);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_40">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="40"></td>
	    <td>40</td>
	    <td>user_login</td>
		<td>用户登录</td>
	    <td>user</td>
        <td>0</td><td>1</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=40">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(40);">删除</a>
		</td>
	  </tr><tr overstyle='on' id="credit_42">
	    <td><input type="checkbox" name="checkbox" id="checkbox2" onclick="checkon(this)" value="42"></td>
	    <td>42</td>
	    <td>space_visited</td>
		<td>空间被访问</td>
	    <td>user</td>
        <td>1</td><td>1</td>	    <td>
			<a href="http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=editCredit&cid=42">编辑</a> 
	    	<a href="javascript:void(0);" onclick="deleteCredit(42);">删除</a>
		</td>
	  </tr>  </table>

  </div>
  <div class="Toolbar_inbox">
	<div class="page right"> <span class='current'>1</span><a href='/sns/index.php?app=admin&mod=Global&act=credit&p=2'>2</a><a href='/sns/index.php?app=admin&mod=Global&act=credit&p=2'>下一页</a></div>
	<a href="javascript:void(0);" class="btn_a" onclick="window.open('http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=addCredit','_self');"><span>添加规则</span></a>
	<a href="javascript:void(0);" class="btn_a" onclick="deleteCredit();"><span>删除规则</span></a>
  </div>
</div>

<script>
	//鼠标移动表格效果
	$(document).ready(function(){
		$("tr[overstyle='on']").hover(
		  function () {
		    $(this).addClass("bg_hover");
		  },
		  function () {
		    $(this).removeClass("bg_hover");
		  }
		);
	});
	
	function checkon(o){
		if( o.checked == true ){
			$(o).parents('tr').addClass('bg_on') ;
		}else{
			$(o).parents('tr').removeClass('bg_on') ;
		}
	}
	
	function checkAll(o){
		if( o.checked == true ){
			$('input[name="checkbox"]').attr('checked','true');
			$('tr[overstyle="on"]').addClass("bg_on");
		}else{
			$('input[name="checkbox"]').removeAttr('checked');
			$('tr[overstyle="on"]').removeClass("bg_on");
		}
	}
	
	//获取已选择的ID数组
	function getChecked() {
		var ids = new Array();
		$.each($('table input:checked'), function(i, n){
			ids.push( $(n).val() );
		});
		return ids;
	}
	
	function deleteCredit(ids) {
		ids = ids ? ids : getChecked();
		ids = ids.toString();
		if(ids == '' || !confirm('删除成功后将无法恢复，确认继续？')) return false;
		
		$.post("http://192.168.1.111/sns/index.php?app=admin&mod=Global&act=doDeleteCredit", {ids:ids}, function(res){
			if(res == '1') {
				ids = ids.split(',');
				for(i = 0; i < ids.length; i++) {
					$('#credit_'+ids[i]).remove();
				}
				ui.success('保存成功～');
			}else {
				ui.success('保存失败～');
			}
		});
	}
</script>
<?php include_once 'footer.php' ?>